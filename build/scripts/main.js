/*
 ////////////////////////////////////////////////////////
 // Our Better World
 // @version vv1.0.0
 // @link https://www.ourbetterworld.org/
 // @license 
 // @Coding by obw - XXXXXXXXXX
 // @obw@email.com
 ////////////////////////////////////////////////////////
*/!function e(n,t,o){function r(a,u){if(!t[a]){if(!n[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var l=t[a]={exports:{}};n[a][0].call(l.exports,(function(e){return r(n[a][1][e]||e)}),l,l.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,n,t){"use strict";var o=e("./pages/index"),r=e("./shared/index");function i(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),o.Pages.init(),r.Shared.init()}var n,t,a;return n=e,a=[{key:"init",value:function(){return new e}}],(t=null)&&i(n.prototype,t),a&&i(n,a),e})().init()},{"./pages/index":6,"./shared/index":14}],2:[function(e,n,t){"use strict";function o(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderMenuButtonComponent=void 0;var r=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.HeaderMenuButtonInit()}var n,t,r;return n=e,(t=[{key:"HeaderMenuButtonInit",value:function(){this.clickMenuButton()}},{key:"clickMenuButton",value:function(){var e=document.querySelector(".obw-header .obw-menu-button"),n=document.querySelector(".obw-header");e.addEventListener("click",(function(){n.classList.toggle("is-open")}))}}])&&o(n.prototype,t),r&&o(n,r),e}();t.HeaderMenuButtonComponent=r},{}],3:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderComponent=void 0;var o=e("../../../shared/helpers/index"),r=e("./header-menu-button/header-menu-button.component");function i(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.HeaderInit()}var n,t,a;return n=e,(t=[{key:"HeaderInit",value:function(){new r.HeaderMenuButtonComponent,this.scrollSpy(),this.smoothMenuLink()}},{key:"slidingUnderline",value:function(){var e=window.matchMedia("(min-width: 1100px)").matches,n=document.querySelector(".obw-header .obw-menu-list .obw-menu-item.is-active"),t=document.querySelector(".obw-header .obw-menu-navbar .obw-menu-line"),r=document.querySelector(".obw-header .obw-menu-list"),i=(0,o.nodeToArray)(document.querySelectorAll(".obw-header .obw-menu-list .obw-menu-item")),a=(0,o.nodeToArray)(document.querySelectorAll(".obw-header .obw-menu-list .obw-menu-item"));function u(e,n){n.style.left=e.offsetLeft+"px",n.style.width=e.offsetWidth+"px"}n&&e&&(u(n,t),r.addEventListener("mouseover",(function(e){var n=e.target.offsetWidth,o=e.target.offsetLeft;t.style.left=o+"px",t.style.width=n+"px"})),r.addEventListener("mouseout",(function(e){t.style.left=n.offsetLeft+"px",t.style.width=n.offsetWidth+"px"})),a.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),i.forEach((function(e){e.classList.remove("is-active")})),e.target.parentNode.classList.add("is-active"),n=document.querySelector(".obw-header .obw-menu-list .obw-menu-item.is-active"),t=document.querySelector(".obw-menu-line"),u(n,t)}))})))}},{key:"smoothMenuLink",value:function(){var e=document.querySelectorAll(".obw-menu-link"),n=document.querySelector(".obw-header"),t=n.offsetHeight,o=function(o){e.hasOwnProperty(o)&&(console.log(e[o].hash),e[o].addEventListener("click",(function(r){r.preventDefault(),n.classList.remove("is-open"),document.querySelector(e[o].hash).scrollIntoView({behavior:"smooth"});var i=document.querySelector(e[o].hash).offsetTop-t;window.scroll({top:i,behavior:"smooth"})})))};for(var r in e)o(r)}},{key:"scrollTo",value:function(e){function n(n,t,o){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e,n,t){if(!(t<=0)){var o=(n-e.scrollTop)/t*10;setTimeout((function(){e.scrollTop=e.scrollTop+o,e.scrollTop!==n&&scrollTo(e,n,t-10)}),10)}}))},{key:"scrollSpy",value:function(){var e=document.querySelectorAll(".chapter-container"),n=document.querySelector(".obw-header").offsetHeight;window.onscroll=function(){var t=document.documentElement.scrollTop||document.body.scrollTop;for(var o in e)if(e.hasOwnProperty(o)&&e[o].offsetTop-n<=t){var r=e[o].id,i=document.querySelector(".obw-menu-item.is-active");i&&i.classList.remove("is-active"),document.querySelector(".obw-menu-link[href*=".concat(r,"]")).parentNode.classList.add("is-active")}}}}])&&i(n.prototype,t),a&&i(n,a),e}();t.HeaderComponent=a},{"../../../shared/helpers/index":11,"./header-menu-button/header-menu-button.component":2}],4:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e("./header/header.component");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}));var r=e("./vientiane-rescue/vientiane-rescue.component");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},{"./header/header.component":3,"./vientiane-rescue/vientiane-rescue.component":5}],5:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VientianeRescueComponent=void 0;var o=e("../../../shared/helpers/index");function r(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.VientianeRescueComponentInit()}var n,t,i;return n=e,(t=[{key:"changeBackgroundOnScroll",value:function(){var e=(0,o.nodeToArray)(document.querySelectorAll(".has-scroll-animation"));if(e&&e.length>0){var n=-1;e.forEach((function(e){var t=(0,o.nodeToArray)(e.querySelectorAll(".content")),r=(0,o.nodeToArray)(e.querySelectorAll(".background-item"));t.forEach((function(t,i){var a=i+1;window.addEventListener("scroll",(function(){(0,o.isInView)(t)&&a!==n&&(r.forEach((function(e){e.classList.remove("is-active")})),e.querySelector(".background-item-".concat(a)).classList.add("is-active"),n=a)}))}))}))}}},{key:"VientianeRescueComponentInit",value:function(){this.changeBackgroundOnScroll()}}])&&r(n.prototype,t),i&&r(n,i),e}();t.VientianeRescueComponent=i},{"../../../shared/helpers/index":11}],6:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pages=void 0;var o=e("./components/index");function r(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),new o.HeaderComponent,new o.VientianeRescueComponent}var n,t,i;return n=e,i=[{key:"init",value:function(){return new e}}],(t=null)&&r(n.prototype,t),i&&r(n,i),e}();t.Pages=i},{"./components/index":4}],7:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AudioButtonPrimaryComponent=void 0;var o=e("../../helpers/index");function r(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(){var n,t,o;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),o=void 0,(t="timer")in(n=this)?Object.defineProperty(n,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[t]=o,this.audioInit()}var n,t,i;return n=e,(t=[{key:"audioInit",value:function(){this.clickAudio()}},{key:"clickAudio",value:function(){var e=this,n=document.getElementsByClassName("js-audio"),t=(0,o.nodeToArray)(n);t.forEach((function(n){var r=n.querySelector(".audio");n.addEventListener("click",(function(o){var r=o.target.querySelector(".audio");r.paused?(n.classList.remove("audio-init"),e.swapClass(n,"audio-pause","audio-active"),t.forEach((function(e){e.querySelector(".audio").pause()})),e.playAudio(r),e.trackingPlayAudio(r)):(e.swapClass(n,"audio-active","audio-pause"),e.pauseAudio(r))})),r.addEventListener("playing",(function(t){var o=t.target.duration;e.audioProgress(o,r,n)})),r.addEventListener("pause",(function(t){clearTimeout(e.timer),e.swapClass(n,"audio-active","audio-pause")})),r.addEventListener("ended",(function(){e.swapClass(n,"audio-pause","audio-init")})),e.getDuration(r.src,n),window.addEventListener("scroll",(function(){(0,o.isInView)(n)||r.paused||e.pauseAudio(r)}))}))}},{key:"changeLogoSrc",value:function(e,n,t){var o=window.matchMedia("("+t+")").matches;e&&(o?e.setAttribute("src",n):e.setAttribute("src",currentLogo))}},{key:"setAttibuteEl",value:function(e,n,t,o){var r=e.querySelector(n);r&&r.setAttribute(t,o)}},{key:"nodeToArray",value:function(e){return Array.from(e)}},{key:"swapClass",value:function(e,n,t){e.classList.remove(n),e.classList.add(t)}},{key:"trackingPlayAudio",value:function(e){dataLayer.push({event:"audio_listen",eventCategory:"Audio Consumption",contentParticipates:1,eventAction:"Audio Play",eventLabel:this.getAudioFileName(e.src),timestamp:Date.now()})}},{key:"getAudioFileName",value:function(e){var n=e.split("/");return decodeURI(n[n.length-1]).replace(/(\.[^/.]+)+$/,"")}},{key:"audioProgress",value:function(e,n,t){var o=t.querySelector(".audio-progress");if(o){var r=10/e,i=Math.min(r*n.currentTime*10,100);o.style.width=i+"%",this.startTimer(e,n,t)}}},{key:"startTimer",value:function(e,n,t){var o=this;this.timer=setTimeout((function(){o.audioProgress(e,n,t)}),100)}},{key:"getDuration",value:function(e,n){var t=new Audio,o=n.querySelector(".audio-duration");o&&(t.addEventListener("loadedmetadata",(function(){var e=parseInt(t.duration/60,10),n=parseInt(t.duration%60);o.textContent=n>9?"".concat(e,":").concat(n):"".concat(e,":0").concat(n)})),t.src=e)}},{key:"playAudio",value:function(e){e.play()}},{key:"pauseAudio",value:function(e){e.pause()}}])&&r(n.prototype,t),i&&r(n,i),e}();t.AudioButtonPrimaryComponent=i},{"../../helpers/index":11}],8:[function(e,n,t){"use strict";function o(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ChapterHeadingComponent=void 0;var r=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.ChapterHeadingInit()}var n,t,r;return n=e,(t=[{key:"ChapterHeadingInit",value:function(){ScrollOut({threshold:.2,once:!1})}}])&&o(n.prototype,t),r&&o(n,r),e}();t.ChapterHeadingComponent=r},{}],9:[function(e,n,t){"use strict";function o(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(t,"__esModule",{value:!0}),t.CustomVideoControlsComponent=void 0;var r=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.CustomVideoControlsInit()}var n,t,r;return n=e,(t=[{key:"CustomVideoControlsInit",value:function(){this.customPlyr()}},{key:"customPlyr",value:function(){Plyr.setup(".js-player").forEach((function(e){new Plyr(e)}))}}])&&o(n.prototype,t),r&&o(n,r),e}();t.CustomVideoControlsComponent=r},{}],10:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e("./audio-button-primary/audio-button-primary.component");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}));var r=e("./custom-video-controls/custom-video-controls.component");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var i=e("./chapter-heading/chapter-heading.component");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}))},{"./audio-button-primary/audio-button-primary.component":7,"./chapter-heading/chapter-heading.component":8,"./custom-video-controls/custom-video-controls.component":9}],11:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e("./nodeToArray");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}));var r=e("./isInView");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},{"./isInView":12,"./nodeToArray":13}],12:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInView=void 0;t.isInView=function(e){var n=window.scrollY||window.pageYOffset,t=e.getBoundingClientRect().top+n,o=n,r=n+window.innerHeight,i=t,a=t+e.clientHeight;return a>=o&&a<=r||i<=r&&i>=o}},{}],13:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nodeToArray=void 0;t.nodeToArray=function(e){return Array.from(e)}},{}],14:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Shared=void 0;var o=e("./components/index");function r(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),new o.AudioButtonPrimaryComponent,new o.CustomVideoControlsComponent,new o.ChapterHeadingComponent}var n,t,i;return n=e,i=[{key:"init",value:function(){return new e}}],(t=null)&&r(n.prototype,t),i&&r(n,i),e}();t.Shared=i},{"./components/index":10}]},{},[1]);